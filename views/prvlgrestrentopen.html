<!-- <div class="loder" ng-show="loader">
  <img src="images/loader.gif" alt="">
</div> --> 
<aside id="aside" class="app-aside modal fade " role="menu">
    <div class="left">
      <div class="box bg-white">
        <div class="navbar md-whiteframe-z1 no-radius blue">
            <!-- brand -->
            <a class="navbar-brand" href="#dashboard">
              
              <img src="images/logo.png" alt="." style="max-height: 36px; display:none">
              <span class="hidden-folded m-l inline">Batcave</span>
            </a>
            <!-- / brand -->
        </div>
        <div class="box-row">
          <div class="box-cell scrollable hover">
            <div class="box-inner">
              <div class="p hidden-folded blue-50" style="background-image:url(images/bg.png); background-size:cover">
                <a class="block m-t-sm">
                  <span class="block font-bold">{{username}}</span>
                  {{email}}
                </a>
              </div>
              <div id="nav">
                <nav ui-nav>
                  <ul class="nav">
                    <li>
                      <a md-ink-ripple>
                        <span class="pull-right text-muted">
                          <i class="fa fa-caret-down"></i>
                        </span>
                        <i class="icon mdi-action-settings-input-svideo i-20"></i>
                        <span class="font-normal">Dashboard</span>
                      </a>
                      <ul class="nav nav-sub">
                        <li>
                          <a md-ink-ripple href="#dashboard">Web Analytics</a>
                        </li>
                        <li>
                          <a md-ink-ripple href="#appdashboard">App Analytics</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a md-ink-ripple href="#users">
                        <i class="icon mdi-social-people i-20"></i>
                        <span class="font-normal">Users</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#events">
                        <i class="icon mdi-maps-local-bar i-20"></i>
                        <span class="font-normal">Events</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#contest">
                        <i class="icon mdi-action-extension i-20"></i>
                        <span class="font-normal">Contest</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#offers">
                        <i class="icon fa fa-tags i-20"></i>
                        <span class="font-normal">offers</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#news">
                        <i class="fa fa-newspaper-o icon " aria-hidden="true"></i>
                        <span class="font-normal">News</span>
                      </a>
                    </li>
                    <!-- <li>
                      <a md-ink-ripple href="#contacts">
                        <i class="icon mdi-action-extension i-20"></i>
                        <span class="font-normal">Contacts</span>
                      </a>
                    </li> -->
                    <li>
                      <a md-ink-ripple href="#contactfrm">
                        <i class="icon fa-phone fa i-20"></i>
                        <span class="font-normal">Contact form</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#privilege" class="active-menu">
                        <i class="icon fa-ticket fa i-20"></i>
                        <span class="font-normal">privilege</span>
                      </a>
                    </li>
                    <li>
                      <a md-ink-ripple href="#privilegeExperience">
                        <i class="icon fa-ticket fa i-20"></i>
                        <span class="font-normal">Privilege Experiences</span>
                      </a>
                    </li>

                    <li>
                      <a md-ink-ripple>
                        <span class="pull-right text-muted">
                          <i class="fa fa-caret-down"></i>
                        </span>
                        <i class="icon mdi-editor-insert-drive-file i-20"></i>
                        <span class="font-normal">CRM</span>
                      </a>
                      <ul class="nav nav-sub">
                        <li>
                          <a md-ink-ripple href="#vendors">Vendor Managment</a>
                        </li>
                        <li>
                          <a md-ink-ripple href="#media">Media Managment</a>
                        </li>
                        <li>
                          <a md-ink-ripple href="#bloggers">Bloggers Managment</a>
                        </li>
                        <li>
                          <a md-ink-ripple href="#influencer">influencer Managment</a>
                        </li>
                      </ul>
                    </li>
                    
                    <li class="b-b b m-v-sm"></li>
                    <li>
                      <a md-ink-ripple ng-click="logout();">
                        <i class="icon mdi-action-exit-to-app i-20"></i>
                        <span>Logout</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>      
      </div>
    </div>
  </aside>
  <!-- / aside -->
  


  <!-- content -->
  <div id="content" class="app-content" role="main">
    <div class="box">
          <!-- Content Navbar -->
    <div class="navbar md-whiteframe-z1 no-radius blue">
      <!-- Open side - Naviation on mobile -->
      <a md-ink-ripple  data-toggle="modal" data-target="#aside" class="navbar-item pull-left visible-xs visible-sm"><i class="mdi-navigation-menu i-24"></i></a>
      <!-- / -->
      <!-- Page title - Bind to $state's title -->
      <div class="navbar-item pull-left h4">{{restroData.name}}</div>
     
      <div class="pull-right" ui-view="navbar@"></div>
      <!-- / -->
      <!-- Search form -->
      
      <!-- / -->
    </div>
    <!-- Content -->
      
      <div class="box-row">
        <div class="box-cell">
          <div class="box-inner padding">  
            <div class="row">
                
              <div class="col-sm-12">
                <div class="col-sm-12">
                  <div class="panel panel-default">
                    <div class="row" style="">
                      <div class="col-sm-3">
                        <img ng-src="{{restroData.card_image}}" alt="" class="img-responsive">
                      </div>
                      <div class="col-sm-4">
                        <h2>{{restroData.name}}</h2>
                        <h5><b>Cost: </b>{{restroData.cost}} for one</h5>
                        <h5><b>One Liner: </b>{{restroData.one_liner}}</h5>
                        <h5><b>Primary Cuisine: </b>{{restroData.primary_cuisine.title}}</h5>
                        <h4>cuisine</h4>
                        <ul ng-repeat="cuisine in restroData.cuisine">
                          <li>{{cuisine.title}} <button class="btn btn-sm {{restroData.primary_cuisine.id == cuisine.id ? 'btn-default' : 'btn-info'}}" ng-click="makePrimary(cuisine.id)" style="font-size: 12px;padding: 3px;">Make Primary</button></li>
                        </ul>
                      </div>
                      <div class="col-sm-5">
                        <div style="padding: 8px;">
                          <a class="btn btn-default" href="#privilege" style="width: 100%">Go Back to List</a>
                        </div>
                        <div style="padding: 8px;">
                          <button class="btn blue" ng-click="editrestroform = !editrestroform" style="width: 100%">Update This Restaurant</button>
                        </div>
                        <div style="padding: 8px;">
                          <button class="btn green" ng-click="addoutletform = !addoutletform" style="width: 100%">Create Outlet For Restaurant</button>
                        </div>
                        <div style="padding: 8px;">
                          <button class="btn orange" ng-click="addcusinesform = !addcusinesform" style="width: 100%">Add / Delete Cuisines</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12" ng-show="addoutletform">
                  <div class="panel panel-default" style="padding: 10px;">
                    <div class="panel-title">
                      <h4>Create Outlet</h3>
                    </div>
                    <div class="row">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label for="rest-name">Name</label>
                          <input type="text" class="form-control" ng-model="outlet.name">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">phone</label>
                          <input type="tel" class="form-control" ng-model="outlet.phone">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">address</label>
                          <textarea name="address" id="" cols="30" rows="3" class="form-control" ng-model="outlet.address"></textarea>
                        </div>
                        <div class="form-group">
                          <label for="">Email (multiple saprated by , )</label>
                          <input type="text" class="form-control" multiple-emails required name="email" ng-model="outlet.email">
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-group">
                          <label for="rest-name">City</label>
                          <select name="city" id="" class="form-control" ng-change="selectCityChange()" ng-model="outlet.cityid">
                            <option value=""> --select city-- </option>
                            <option value="1">Delhi NCR</option>
                            <option value="2">Mumbai</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="rest-name">City zone</label>
                          <select name="city" id="" class="form-control" ng-model="outlet.zoneid">
                            <option ng-repeat="zone in zonelist" ng-value="{{zone.id}}">{{zone.name}}</option>
                            <!-- <option value="1">Gurgaon</option>
                            <option value="2">Noida</option>
                            <option value="3">South Delhi</option>
                            <option value="4">North Delhi</option>
                            <option value="5">East Delhi</option>
                            <option value="6">West Delhi</option>
                            <option value="7">Central Delhi</option> -->
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="rest-name">postcode</label>
                          <input type="number" name="postcode" class="form-control" ng-model="outlet.postcode">
                        </div>
                        
                        <div class="form-group">
                          <label for="rest-name">area</label>
                          <!-- <input type="text" class="form-control" ng-model="outlet.area"> -->
                          <autocomplete ng-model="outlet.area" data="arealist"></autocomplete>
                        </div>
                      </div>
                      <div class="col-md-4">
                        
                        <div class="form-group">
                          <label for="rest-name">latitude</label>
                          <input type="text" name="latitude" class="form-control" ng-model="outlet.latitude">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">longitude</label>
                          <input type="text" name="longitude" class="form-control" ng-model="outlet.longitude">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">work hours</label>
                          <input type="text" class="form-control" ng-model="outlet.work_hours">
                        </div>
                        <!-- <div class="form-group">
                          <label for="rest-name">pin</label>
                          <input type="number" name="pin" class="form-control" ng-model="outlet.pin" minlength="4" maxlength="4">
                        </div> -->
                        
                        <div class="form-group">
                          <label for="rest-name">suggested dishes</label>
                          <textarea name="dishes" id="" cols="30" rows="3" class="form-control" ng-model="outlet.dishes"></textarea>
                        </div>
                        
                      </div>
                      <div class="col-sm-12" style="padding: 20px;">
                        <button class="btn red" ng-click="addoutletform = false">Cancel</button>
                        <button class="btn pink pull-right" ng-click="createOutlet()" ng-disabled="createBtnOutlet">Create outlet</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12" ng-show="editrestroform">
                  <div class="panel pane-default">
                    <div class="panel-heading">
                      Restaurents edit
                    </div>
                    <div class="row" style="padding: 20px;">
                      <div class="col-sm-4">
                        <div class="form-group">
                          <label for="rest-name">Name</label>
                          <input type="text" class="form-control" ng-model="restroData.name">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">One Liner</label>
                          <input type="text" class="form-control" ng-model="restroData.one_liner" maxlength="80">
                        </div>
                        <div class="form-group">
                          <label for="rest-name">Cost for one</label>
                          <input type="text" class="form-control" ng-model="restroData.cost" placeholder="1000">
                        </div>
                      </div>
                      <div class="col-md-8">
                        <div class="col-md-12" style="padding: 10px 0;">
                          <label for="" class="grey-text">Upload Image (400 x 400) </label>
                          <h6>do not upload image if you dont want to change it</h6>
                        </div>
                        <div class="col-md-12">
                          <div id="direct_upload" 
                            ngf-drop="uploadFiles($files)"
                            ngf-drag-over-class="dragOverClass($event)"
                            ng-model="files"
                            ng-multiple="fasle" ngf-dimensions="$width == 400 && $height == 400">
                            <div class="col-md-12">
                              <form>  
                                <div class="form_line">
                                    <!-- <label>Image:</label> -->
                                    <div class="form_controls">
                                        <div class="upload_button_holder" style="text-align: center; border: 1px dotted #9e9e9e;padding: 20px;">
                                            <div href="#" class="upload_button btn btn-fw btn-primary" ngf-select="uploadFiles($files)" title="upload" resetOnClick="true" ngf-dimensions="$width == 400 && $height == 400">Upload</div>
                                        </div>
                                    </div>
                                </div>
                              </form>
                              <p>{{cover}}</p>
                            </div>
                            <div class="col-md-12" style="padding: 10px">
                              <div class="file" ng-repeat="file in files">
                                <div class="col-md-6">
                                  <p class="grey-text">{{file.name}} {{f.$error}} {{f.$errorParam}}</p>
                                  <div class="status">{{file.status}}</div>
                                  
                                  <div class="progress-bar">
                                    <div class="progress grey-text" style="width: {{file.progress}}%" ng-init="progress=0"></div>
                                  </div>
                              
                                </div>
                                <div class="col-md-6">
                                  <div class="form_line">
                                      <div class="form_controls">
                                          <div class="preview">
                                              <img ngf-src="file.result.url || file" style="width: 80%;">
                                          </div>
                                      </div>
                                  </div>
                                </div>
                              </div>
                              
                            </div> 
                          </div>
                        </div>
                      </div>
                      <div class="col-sm-12" style="padding: 20px;">
                        <button class="btn red" ng-click="editrestroform = false">Cancel</button>
                        <button class="btn pink pull-right" ng-click="updateRestro();" ng-disabled="updateBtnRestro">update Restaurent</button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-sm-12" ng-show="addcusinesform">
                  <div class="col-sm-6">
                    <div class="panel panel-default">
                      <div class="panel-heading">
                        Add Cuisines
                      </div>
                      <div class="row" style="padding: 20px;">
                        <div class="col-sm-12">
                          <div class="form-group">
                            <label for="">Select cuisines</label>
                            <select name="cuisines" id="cuisines" ng-model="selectedCusine" class="form-control" multiple>
                              <option value="{{cuisines.id}}" ng-repeat="cuisines in cusinelist">{{cuisines.title}}</option>
                            </select>
                            <p>{{selectedCusine}}</p>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div style="padding: 20px;">
                            <button class="btn red" ng-click="addcusinesform = false">Cancel</button>
                            <button class="btn cyan" ng-click="addcusine()">add Cusine</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="panel panel-default">
                      <div class="panel-heading">
                        delete Cuisines
                      </div>
                      <div class="row" style="padding: 20px;">
                        <div class="col-sm-12">
                          <div class="form-group">
                            <label for="">Select cuisines</label>
                            <select name="cuisines" id="cuisines" ng-model="deletedCusine" class="form-control">
                              <option value="{{cuisines.id}}" ng-repeat="cuisines in restroData.cuisine">{{cuisines.title}}</option>
                            </select>
                            <p>{{deletedCusine}}</p>
                          </div>
                        </div>
                        <div class="col-sm-12">
                          <div style="padding: 20px;">
                            <button class="btn default-btn" ng-click="addcusinesform = false">Cancel</button>
                            <button class="btn red" ng-click="deletecusine()">delete Cusine</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                    
                </div>

                
                <div class="col-sm-12">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      Outlet List
                    </div>
                    <div class="table-responsive">
                      <form class="form-inline">
                          <div class="res">
                            <p>Showing {{filtered.length}} Results</p>
                          </div>
                          <div class="form-group" id="search">
                              <!-- <label >Search</label> -->
                              <input type="text" ng-model="search" class="form-control" placeholder="Search" >
                          </div>
                      </form>
                      <table class="table table-hover b-t b-b bordert">
                        <thead>
                          <tr >
                            <th>#</th>
                            <th>Name</th>
                            <th>Area</th>
                            <th>action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="outlet in filtered = (restroData.outlet | filter:search) " ng-class="outlet.is_disabled == '1' ? 'text-muted' : ''">
                            <td>{{ outlet.id }}</td>
                            <td>{{ outlet.name }}</td>
                            <td>{{ outlet.area }}</td>
                            <td><a href="#privilege/{{restroid}}/outlet/{{ outlet.id }}" class="btn btn-info">Open Outlet</a>
                            <button class="btn" ng-class="outlet.is_disabled == '1' ? 'btn-success' : 'btn-danger'" ng-click="updateOutletStatus(outlet.id, outlet.is_disabled);">{{outlet.is_disabled == '1' ? 'Show' : 'Hide'}}</button>
                            </td>
                          </tr>
                        </tbody>
                        
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- / content